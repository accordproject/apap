<h1 id="accord-project-agreement-protocol">Accord Project Agreement Protocol</h1>
<p>The Accord Project Agreement Protocol (APAP) defines the protocol used between a document generation engine or contract management platform and an agreement server that provides agreement features like template management, document generation, format conversion etc.</p>
<h2 id="what-is-the-agreement-protocol%3F">What is the Agreement Protocol?</h2>
<p>Adding features like document generation, data format conversion for a document generation template language takes significant effort. Traditionally this work had to be repeated for each template format, as each format provides different APIs for implementing the same feature.</p>
<p>An Agreement Server is meant to provide the template-specific smarts and communicate with agreement tools over a protocol that enables inter-process communication.</p>
<p>The idea behind the Agreement Protocol (APAP) is to standardize the protocol for how such servers and agreement tools communicate. This way, a single Agreement Server can be re-used in multiple agreement tools, which in turn can support multiple templates with minimal effort.</p>
<p>APAP is a win for both template providers and agreement tooling vendors!</p>
<h2 id="how-it-works">How it Works</h2>
<p>An agreement server runs as a separate process and agreement tools communicate with the server using the agreement protocol over REST. Below is an example for how a tool and an agreement server communicate during a routine document generation session:</p>
<pre class="language-mermaid"><code class="language-mermaid"><span class="token keyword">sequenceDiagram</span><br>    <span class="token keyword">participant</span> T as Tool<br>    <span class="token keyword">participant</span> S as Agreement Server<br>    T<span class="token arrow operator">->></span>S<span class="token operator">:</span> Deploy Template<br>    S<span class="token arrow operator">->></span>T<span class="token operator">:</span> Template ID<br>    T<span class="token arrow operator">->></span>S<span class="token operator">:</span> Create Agreement with Data<br>    S<span class="token arrow operator">->></span>T<span class="token operator">:</span> Agreement ID<br>    T<span class="token arrow operator">->></span>S<span class="token operator">:</span> Convert Agreement to PDF<br>    S<span class="token arrow operator">->></span>T<span class="token operator">:</span> PDF Bytes<br>    T<span class="token arrow operator">->></span>S<span class="token operator">:</span> Destroy Agreement<br>    S<span class="token arrow operator">->></span>T<span class="token operator">:</span> ACK</code></pre>
<h2 id="capabilities">Capabilities</h2>
<p>Not every agreement server can support all features defined by the protocol. APAP therefore provides ‘capabilities’. A capability groups a set of agreement features. An agreement tool and the agreement server announce their supported features using capabilities.</p>
<p>Notice the actual integration of an agreement server into a particular tool is not defined by the agreement protocol and is left to the tool implementors.</p>
<h2 id="libraries-sdks-for-apap-providers-and-consumers">Libraries (SDKs) for APAP providers and consumers</h2>
<p>To simplify the implementation of agreement servers and clients, there are libraries or SDKs:</p>
<p>Development tool SDKs each development tool typically provides a library for integrating agreement servers. For example, for JavaScript/TypeScript there is the <a href="./src/">agreement client npm module</a>.</p>
